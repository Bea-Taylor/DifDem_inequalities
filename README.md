# Dementia Inequalities

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Context

It has been reported that depravation levels affect
diagnosis, with [different rates of dementia diagnosis in different
areas of the UK](https://dementiastatistics.org/about-dementia/maps/).
Discussions about inequality in Dementia diagnosis and treatment are a
current priority for both the Alzheimer’s Society and the [All-Party
Parliamentary
Groups](https://www.alzheimers.org.uk/about-us/policy-and-influencing/all-party-parliamentary-group-dementia).
This work is inspired by the 2021 Alzheimer’s society report into
[Regional variation: increasing access to a dementia
diagnosis](https://www.alzheimers.org.uk/sites/default/files/2021-09/regional_variations_increasing_access_to_diagnosis.pdf).

This project explored whether we could use publicly available datasets, and some statistical models to investigate how the rate of dementia diagnosis varies across different local authority districts (LADs) in England, specifically in relation to deprivation. 

## Notebooks

Across the notebooks in this repo the datsets are explored, and a variety of modelling approaches developed for dementia underdiagnosis. 

The most relevant notebooks, particularly in reference to the [blog]() are: 

* `02b_LAD_and_GP_intersections.ipynb` which calculates how the catchment areas for all the GP practices in the QOF overlap with local auhtority districts. 
* `02c_GP_doctors_per_LAD.ipynb` which imputes the missing data on number of GPs per practice, and calulcate the GP contribution per LAD.
* `02d_merge_LAD_QOF.ipynb` which merges and cleans the relevant datasets into one dataframe.
* `03a_explore_datasets.ipynb` which does some initial analysis of the relationship between dependent and independent variables. 
* `04_regression_model.ipynb` which performs the standard multiple linear regression model. 
* `04b_regression_model_trained_IMD.ipynb` which performs the standard multiple linear regression model, using various subsets of the data for training. 
* `05c_optimise_function.ipynb` which defines the log normal (and half normal) error models, and uses scipy.minimize to find the maximum likelihood estimates of the parameters. 
* `06_comparison_across_measures.ipynb` which conducts analysis of the models, and generates lots of geoplots. 


## Data sources

<table width="100%">
<thead>
<tr>
<th>
Name
</th>
<th>
Path
</th>
<th>
Source
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
QOF 2022-2023
</td>
<td>
dementia_inequalities/store/data/QOF_2022-23/PREVALENCE_2223.csv
</td>
<td>
<a href="https://digital.nhs.uk/data-and-information/publications/statistical/quality-and-outcomes-framework-achievement-prevalence-and-exceptions-data" target="_blank">NHS
digital</a>
</td>
</tr>
<tr>
<td rowspan="3">
GP practices Dec 23
</td>
<td>
dementia_inequalities/store/data/GP_practices_dec_23/gp-reg-pat-prac-map.csv
</td>
<td rowspan="3">
<a href="https://digital.nhs.uk/data-and-information/publications/statistical/patients-registered-at-a-gp-practice/december-2023" target="_blank">NHS
digital</a>
</td>
</tr>
<tr>
<td>
dementia_inequalities/store/data/GP_practices_dec_23/gp-reg-pat-prac-sing-age-female.csv
</td>
</tr>
<tr>
<td>
dementia_inequalities/store/data/GP_practices_dec_23/gp-reg-pat-prac-sing-age-male.csv
</td>
</tr>
<tr>
<td>
Prescribing data Nov 2023
</td>
<td>
dementia_inequalities/store/data/EPD_202311.csv
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">NHS
BSA</a>
</td>
</tr>
</tbody>
</table>

## How to use

#### Execute core scripts

``` python
dementia_inequalities.core.run_all()
```

#### Command-line interface

*Note: You need to activate the conda environment first.*

List of commands

``` bash
python -m dementia_inequalities.cli
```

Execute commands

``` bash
python -m dementia_inequalities.cli.core
```

``` bash
python -m dementia_inequalities.cli.foo 1 3
```

You can find the manual for each command using `-h`

``` bash
python -m dementia_inequalities.cli.core -h
```
