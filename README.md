# Regional dementia inequalities and underdiagnosis

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

This project explored whether we could use publicly available datasets,
and some statistical models to investigate how the rate of dementia
diagnosis varies across different local authority districts (LADs) in
England, specifically in relation to deprivation.

## Context

It has been reported that deprivation levels affect diagnosis, with
[different rates of dementia diagnosis in different areas of the
UK](https://dementiastatistics.org/about-dementia/maps/). Discussions
about inequality in Dementia diagnosis and treatment are a current
priority for both the Alzheimer’s Society and the [All-Party
Parliamentary
Groups](https://www.alzheimers.org.uk/about-us/policy-and-influencing/all-party-parliamentary-group-dementia).
This work is inspired by the 2021 Alzheimer’s society report into
[Regional variation: increasing access to a dementia
diagnosis](https://www.alzheimers.org.uk/sites/default/files/2021-09/regional_variations_increasing_access_to_diagnosis.pdf).

## Notebooks

The notebooks in this project developed organically as datasets were
explored and a variety of modelling approaches were developed. As a
result some of the notebooks include content that wasn’t eventually
used.

The most relevant notebooks, particularly in reference to the [blog]()
are:

- `02b_LAD_and_GP_intersections.ipynb` which calculates how the
  catchment areas for all the GP practices in the QOF overlap with local
  auhtority districts.
- `02c_GP_doctors_per_LAD.ipynb` which imputes the missing data on
  number of GPs per practice, and calculates the GP contribution per
  LAD.
- `02d_merge_LAD_QOF.ipynb` which merges and cleans the relevant
  datasets into one dataframe.
- `03a_explore_datasets.ipynb` which does some initial analysis of the
  relationship between dependent and independent variables.
- `04_regression_model.ipynb` which performs the standard multiple
  linear regression model.
- `04b_regression_model_trained_IMD.ipynb` which performs the standard
  multiple linear regression model, using various subsets of the data
  for training.
- `05c_optimise_function.ipynb` which defines the log normal (and half
  normal) error models, and uses scipy.minimize to find the maximum
  likelihood estimates of the parameters.
- `06_comparison_across_measures.ipynb` which conducts analysis of the
  models, and generates lots of geoplots.

## LAD data sources

<table width="100%">
<thead>
<tr>
<th>
Name
</th>
<th>
Path
</th>
<th>
Source
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Annual deprivation index
</td>
<td>
dementia_inequalities/store/data/ADI_data/ADI_health_2021.csv
</td>
<td>
<a href="https://www.annualdeprivationindex.co.uk/" target="_blank">ADI</a>
</td>
</tr>
<tr>
<td>
LAD mid-year population
</td>
<td>
dementia_inequalities/store/data/LAD_data/mid_21_age_pop.xlsx
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">ONS</a>
</td>
</tr>
<tr>
<td>
LAD census education
</td>
<td>
dementia_inequalities/store/data/LAD_data/education_2021_census.xlsx
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">ONS</a>
</td>
</tr>
<tr>
<td>
LAD census ethnicity
</td>
<td>
dementia_inequalities/store/data/LAD_data/ethnicity_2021_census.xlsx
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">ONS</a>
</td>
</tr>
<tr>
<td>
LAD boundaries
</td>
<td>
dementia_inequalities/store/data/LAD_area/LAD_Dec_2021_GB_BFC_2022\_-8975151699474964544.geojson
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">ONS</a>
</td>
</tr>
<tr>
<td>
GP catchment boundaries
</td>
<td>
dementia_inequalities/store/data/Catchment Area\>
</td>
<td>
<a href="https://opendata.nhsbsa.net/dataset/english-prescribing-data-epd" target="_blank">NHS
BSA</a>
</td>
</tr>
<tr>
<td>
GPs per practice
</td>
<td>
dementia_inequalities/store/data/GP_practices_dec_23/gp_Count.csv
</td>
<td>
<a href="https://www.nhsbsa.nhs.uk/prescription-data/organisation-data/practice-list-size-and-gp-count-each-practice" target="_blank">NHS
BSA</a>
</td>
</tr>
</tbody>
</table>

## How to use

#### Execute core scripts

``` python
dementia_inequalities.core.run_all()
```

#### Command-line interface

*Note: You need to activate the conda environment first.*

List of commands

``` bash
python -m dementia_inequalities.cli
```

Execute commands

``` bash
python -m dementia_inequalities.cli.core
```

``` bash
python -m dementia_inequalities.cli.foo 1 3
```

You can find the manual for each command using `-h`

``` bash
python -m dementia_inequalities.cli.core -h
```
